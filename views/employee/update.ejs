<html>
<head>

</head>
<body>
<form method="post" enctype="multipart/form-data" action="/employee/upload">
    <fieldset>
        <legend>Update profile picture:</legend>
        <table >
            <tr>
                <td>

                    <input type="file" accept="image/*" required  name="propic" />
                </td>
                <td><input type="submit"  value="Upload"/></td>
            </tr>

        </table>
    </fieldset>


</form>
<form method="post" action="/employee/updateProfile" onsubmit="return confirmUpdate()">
    <fieldset>
        <legend>Update Profile info</legend>
        <table>
            <tr>
                <td>ID</td>
                <td><%= empId %></td>
            </tr>
            <tr>
                <td>Name</td>
                <td><input type="text" name="name" id="name" value="<%= Name %>"></td>
            </tr>
            <tr>
                <td>Username</td>
                <td><input type="text" name="username" id="username" value="<%= username %>" disabled></td>
            </tr>
            <tr>
                <td>Password</td>
                <td><input type="password" name="password" id="password" value="<%= password %>"></td>
            </tr>
            <tr>
                <td>Phone</td>
                <td><input type="text" name="phone" id="phone" value="<%= Phone %>"></td>
            </tr>
            <tr>
                <td>Gender</td>
                <td>
                    <select name="gender" value="<%= gender %>">
                        <option selected hidden><%= gender %></option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Designation</td>
                <td>
                    <select name="designation">
                        <option selected hidden><%= designation %></option>
                        <option>Intern</option>
                        <option>Software Engineer</option>
                        <option>Project Manager</option>
                        <option>Director</option>
                        <option>CEO</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="Save"></td>
            </tr>
        </table>
    </fieldset>
</form>
<a href="/logout">Logout</a>
<script>
    function confirmUpdate(){
        //return false;
        var name=(document.getElementById('name')).value;
        var username=document.getElementById('username').value;
        var password=document.getElementById('password').value;
        var phone=document.getElementById('phone').value;
        //alert('ok');
        //return false;
        if(isEmpty(name) && isEmpty(username) && isEmpty(password) && isEmpty(phone)){
            if(username.length<8){
                alert("Username should be at least 8 characters");
                return false;
            }
            else if(phone.length!=11){
                alert("Phone Number not less or\n" +
                    "greater than 11 numbers")
                return false;
            }
            else if(password.length<8){
                alert("password should be at least 8 characters");
                return false;
            }
            else {
                var r=confirm('Are you sure to update employee profile?');
                if(r==true){
                    return true;
                }else {
                    return false;
                }
            }
        }
        else{
            alert("all fields are required");
            return false;
        }


    }
    function isEmpty(str){
        if(str.trim().length==0 || str.length==0){
            return false;
        }
        else {
            return true;
        }
    }
</script>
</body>
</html>
